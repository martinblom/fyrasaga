<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sample app</title>
    <link rel="stylesheet" href="charmake.css">
    
    <!-- import the click-counter -->
    <link rel="import" href="xclickcounter.html">
  </head>
  <body>
    <div id="title_box">
    <input id="character-name"  bind-value='c.name'>
    <p>Character sheet for {{c.name}}. Age
    <input size='' style='width:30px' type="number" bind-value="c.sAge"/> 
    in year
    <input size='' style='width:30px' type="number" bind-value="c.sYear"/>.
    </p>
    </div>
  <div id="wholepage">
    <div id="characteristics_box">
      <h2> Characteristics </h2>
      <div is="x-click-counter" id="click_counter" name = "Intelligence" type="{{c.characteristics}}"></div>
      <div is="x-click-counter" id="click_counter" name = "Perception" type="{{c.characteristics}}"></div>
      <div is="x-click-counter" id="click_counter" name = "Strength" type="{{c.characteristics}}"></div>
      <div is="x-click-counter" id="click_counter" name = "Stamina" type="{{c.characteristics}}"></div>
      <div is="x-click-counter" id="click_counter" name = "Presence" type="{{c.characteristics}}"></div>
      <div is="x-click-counter" id="click_counter" name = "Communication" type="{{c.characteristics}}"></div>
      <div is="x-click-counter" id="click_counter" name = "Quickness" type="{{c.characteristics}}"></div>
      <div is="x-click-counter" id="click_counter" name = "Dexterity" type="{{c.characteristics}}"></div>
      <div id="cost_teller">Points used: {{totalCost()}}</div>
    </div>


    <div id="virtues_and_flaws_box">
      <h2> Virtues and Flaws </h2>

      <template iterate="x in c.virtuesAndFlaws.keys">
        <div id="virtue-flaw">{{x}}</div>
      </template>

      <form on-submit="addDescription($event,c.virtuesAndFlaws,'#new_virtue_or_flaw','')">
        <input id="new_virtue_or_flaw" placeholder="New Virtue or Flaw"
               on-change="addDescription($event,c.virtuesAndFlaws,'#new_virtue_or_flaw','')">
      </form>  
    </div>


    <div id="virtues_and_flaws_box">
      <h2> Relationships </h2>

      <template iterate="x in c.relationships.keys">
        <div id="virtue-flaw">{{x}}</div>
      </template>

      <form on-submit="addDescription($event,c.relationships,'#new_relationship','')">
        <input id="new_relationship" placeholder="New Relationship"
               on-change="addDescription($event,c.relationships,'#new_relationship','')">
      </form>  
    </div>

    <div id="skills_box">
      <h2> Skills </h2>

      <template iterate="x in c.skills.keys">
        <div is="x-click-counter" id="click_counter" name = {{x}} type="{{c.skills}}"></div>
      </template>

      <form on-submit="addDescription($event,c.skills,'#new_skill',0)">
        <input id="new_skill" placeholder="New Skill"
               on-change="addDescription($event,c.skills,'#new_skill',0)">
      </form>  

      <div id="cost_teller">Points used: {{totalSkillCost()}}</div>
      <div id="cost_teller">Points available: {{c.age*15}}</div>
    </div>
    
    
    <div id="chronicle_box">
      <h2> Chronicle </h2>

      <template iterate="x in c.chronicle.keys">
        <div id="virtue-flaw">{{x}}</div>
      </template>

      <form on-submit="addDescription($event,c.chronicle,'#new_chronicle','')">
        <input id="new_chronicle" placeholder="New Chronicle"
               on-change="addDescription($event,c.chronicle,'#new_chronicle','')">
      </form>  
    </div>


    <div id="chronicle_box">
      <h2> Character </h2>
      <p> {{c.stringify()}} </p>
    </div>

    
    
    </div>

    <script type="application/dart" src="charmake.dart"></script>
    <script src="packages/browser/dart.js"></script>
  </body>
</html>
